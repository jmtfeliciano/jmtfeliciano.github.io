<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Programming in R (Fall 2025) - 6&nbsp; Homework 5: File Reading</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./SolutionHomework6.html" rel="next">
<link href="./SolutionHomework4.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./SolutionHomework2.html">Homework Solutions</a></li><li class="breadcrumb-item"><a href="./SolutionHomework5.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Homework 5: File Reading</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistical Programming in R (Fall 2025)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Disclaimer</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Lecture (under construction)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preliminaries</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Lab Exercises (under construction)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Homework Solutions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Homework 2: ggplot2 and Quarto practice</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Homework 3: dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Homework 4: dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Homework 5: File Reading</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Homework 6: Data Reshaping</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-you-need-to-do" id="toc-what-you-need-to-do" class="nav-link active" data-scroll-target="#what-you-need-to-do"><span class="header-section-number">6.1</span> What you need to do</a></li>
  <li><a href="#files-you-need-to-work-with" id="toc-files-you-need-to-work-with" class="nav-link" data-scroll-target="#files-you-need-to-work-with"><span class="header-section-number">6.2</span> Files you need to work with</a></li>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link" data-scroll-target="#preliminaries"><span class="header-section-number">6.3</span> Preliminaries</a></li>
  <li><a href="#task-1" id="toc-task-1" class="nav-link" data-scroll-target="#task-1"><span class="header-section-number">6.4</span> Task 1</a></li>
  <li><a href="#background-information-on-task-1-data" id="toc-background-information-on-task-1-data" class="nav-link" data-scroll-target="#background-information-on-task-1-data"><span class="header-section-number">6.5</span> <strong>Background information on Task 1 Data</strong></a></li>
  <li><a href="#task-2" id="toc-task-2" class="nav-link" data-scroll-target="#task-2"><span class="header-section-number">6.6</span> Task 2</a></li>
  <li><a href="#task-3" id="toc-task-3" class="nav-link" data-scroll-target="#task-3"><span class="header-section-number">6.7</span> Task 3</a></li>
  <li><a href="#task-4" id="toc-task-4" class="nav-link" data-scroll-target="#task-4"><span class="header-section-number">6.8</span> Task 4</a></li>
  <li><a href="#task-5" id="toc-task-5" class="nav-link" data-scroll-target="#task-5"><span class="header-section-number">6.9</span> Task 5</a></li>
  <li><a href="#task-6" id="toc-task-6" class="nav-link" data-scroll-target="#task-6"><span class="header-section-number">6.10</span> Task 6</a></li>
  <li><a href="#background-information-on-task-5-data" id="toc-background-information-on-task-5-data" class="nav-link" data-scroll-target="#background-information-on-task-5-data"><span class="header-section-number">6.11</span> <strong>Background information on Task 5 Data</strong></a></li>
  <li><a href="#task-6-1" id="toc-task-6-1" class="nav-link" data-scroll-target="#task-6-1"><span class="header-section-number">6.12</span> Task 6</a></li>
  <li><a href="#task-7" id="toc-task-7" class="nav-link" data-scroll-target="#task-7"><span class="header-section-number">6.13</span> Task 7</a></li>
  <li><a href="#background-information-on-task-7-data" id="toc-background-information-on-task-7-data" class="nav-link" data-scroll-target="#background-information-on-task-7-data"><span class="header-section-number">6.14</span> <strong>Background information on Task 7 Data</strong></a></li>
  <li><a href="#task-8" id="toc-task-8" class="nav-link" data-scroll-target="#task-8"><span class="header-section-number">6.15</span> <strong>Task 8</strong></a></li>
  <li><a href="#task-9" id="toc-task-9" class="nav-link" data-scroll-target="#task-9"><span class="header-section-number">6.16</span> <strong>Task 9</strong></a></li>
  <li><a href="#final-comment" id="toc-final-comment" class="nav-link" data-scroll-target="#final-comment"><span class="header-section-number">6.17</span> <strong>Final Comment</strong></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./SolutionHomework2.html">Homework Solutions</a></li><li class="breadcrumb-item"><a href="./SolutionHomework5.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Homework 5: File Reading</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Homework 5: File Reading</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The primary goal of homework 5 is to give you hands-on practice with reading and writing files. A second goal of this homework is give you additional practice on data manipulation for the upcoming midterm.</p>
<p>For this homework, you are required to follow the best practices on file setup and reading, a topic we went over in slides 17-19 of Lecture 5.</p>
<section id="what-you-need-to-do" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="what-you-need-to-do"><span class="header-section-number">6.1</span> What you need to do</h2>
<p>You will be assigned tasks throughout this Quarto Document where you will need to fill in R code appropriately based on what was taught and discussed across Lecture 5 slides and the Exercise 5 Quarto document. Please consult the Lecture 5 materials as needed.</p>
</section>
<section id="files-you-need-to-work-with" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="files-you-need-to-work-with"><span class="header-section-number">6.2</span> Files you need to work with</h2>
<p>You will be reading three files for this homework. Please download those files from our course Canvas site into your computer. You will find these files in two ways: (1) by clicking Homework 5 under Assignments and downloading the linked files from the description or (2) by going to <strong>Files</strong> &gt; <strong>Homework 5 data sets</strong>.</p>
</section>
<section id="preliminaries" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="preliminaries"><span class="header-section-number">6.3</span> Preliminaries</h2>
<p>Make sure to run this script before doing any of the tasks below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="task-1" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="task-1"><span class="header-section-number">6.4</span> Task 1</h2>
<p>Within the following R chunk, read the RuralDevelopmentInvestments.csv data into your R environment and use head() to print the data you made. Name this data however you want but make sure it follows the best practice for naming variables in R (see lecture on assignment operators and naming conventions):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your R code below:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>task1_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/RuralDevelopmentInvestments.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 4169 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task1_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  fiscal_year state_name program_area  total_investment_dol…¹ number_investments
        &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;                          &lt;dbl&gt;              &lt;dbl&gt;
1        2012 Alabama    Business Pro…               16027910                 24
2        2012 Alabama    Community Fa…                2808761                 18
3        2012 Alabama    Electric Pro…               46990000                  2
4        2012 Alabama    Multifamily …               25069905                303
5        2012 Alabama    Single Famil…              486125173               4186
6        2012 Alabama    Telecommunic…                 405147                  1
# ℹ abbreviated name: ¹​total_investment_dollars
# ℹ 1 more variable: svi_investments &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="background-information-on-task-1-data" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="background-information-on-task-1-data"><span class="header-section-number">6.5</span> <strong>Background information on Task 1 Data</strong></h2>
<p>The RuralDevelopmentInvestments.csv is an extract from USDA Rural Development’s dashboard found on <a href="https://www.rd.usda.gov/rural-data-gateway/rural-investments" class="uri">https://www.rd.usda.gov/rural-data-gateway/rural-investments</a></p>
<p><strong>fiscal_year</strong> is the fiscal year, ranges from 2012-2024 (Note: 2024 is only partial data)</p>
<p><strong>state_name</strong> includes the state name or territory name</p>
<p><strong>program_area</strong> is the USDA program area that made the investment</p>
<p><strong>total_investment_dollars</strong> is the total USDA investment made by Rural Development (one of USDA’s agencies)</p>
<p><strong>number_investments</strong> is the total investment counts made by Rural Development (one of USDA’s agencies)</p>
<p><strong>svi_investments</strong> is the total USDA investment that went towards communities that are considered socially vulnerable</p>
<p>Make sure to understand the data before attempting any additional tasks.</p>
</section>
<section id="task-2" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="task-2"><span class="header-section-number">6.6</span> Task 2</h2>
<p>Using the data you made in Task 1, create/save a data subset into the R environment where (1) investments towards socially vulnerable communities were zero and (2) the program area is neither <strong>Electric Programs</strong> nor <strong>Telecommunications Programs.</strong> Name this data however within your R env’t. Additionally, print sample data by using head() or glimpse():</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>task2_data <span class="ot">&lt;-</span> task1_data <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(svi_investments <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>program_area <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Electric Programs"</span>, <span class="st">"Telecommunications Programs"</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task2_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  fiscal_year state_name  program_area total_investment_dol…¹ number_investments
        &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;                         &lt;dbl&gt;              &lt;dbl&gt;
1        2012 Delaware    Water and E…               13692917                  7
2        2012 District o… Business Pr…                 921727                  3
3        2012 District o… Community F…                 400000                  2
4        2012 District o… Water and E…                5750000                  1
5        2012 Indiana     Community F…               90206200                 23
6        2012 Iowa        Water and E…               17630378                 26
# ℹ abbreviated name: ¹​total_investment_dollars
# ℹ 1 more variable: svi_investments &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="task-3" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="task-3"><span class="header-section-number">6.7</span> Task 3</h2>
<p>Using data you generated under Task 2, write a csv file and name it <strong>ZeroInvestmentSVI.csv</strong> below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(task2_data, <span class="st">"ZeroInvestmentSVI.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Note:</strong> You will need to submit a copy of your <strong>ZeroInvestmentSVI.csv</strong> along with other Homework 5 deliverable you are required to turn in.</p>
</section>
<section id="task-4" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="task-4"><span class="header-section-number">6.8</span> Task 4</h2>
<p>Table you will need to fill in to get credit (additional prompt and hints below this table):</p>
<table class="caption-top table">
<colgroup>
<col style="width: 41%">
<col style="width: 27%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>States with the highest investment counts</th>
<th>Overall Investment Counts</th>
<th>Overall Investment Total ($)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>North Carolina</td>
<td>87718</td>
<td>19625458505</td>
</tr>
<tr class="even">
<td>Michigan</td>
<td>85854</td>
<td>11861916179</td>
</tr>
<tr class="odd">
<td>Missouri</td>
<td>83355</td>
<td>13379011326</td>
</tr>
<tr class="even">
<td>Tennessee</td>
<td>83354</td>
<td>13819292794</td>
</tr>
<tr class="odd">
<td>Texas</td>
<td>78299</td>
<td>15995187413</td>
</tr>
</tbody>
</table>
<p>Using data you created in Task 1, fill in the empty table above. You will not get credit unless you write an R code that prints this insight below (Homework Hint: dplyr verbs for summarizing and sorting/arranging). Note: if the R chunk below partially obscures the output you need to copy from, please rerun the code via the R console for an unobstructed view of the output</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>task1_data <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state_name) <span class="sc">|&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">investment_counts =</span> <span class="fu">sum</span>(number_investments),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">total_investment_dollars =</span> <span class="fu">sum</span>(total_investment_dollars)) <span class="sc">|&gt;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(investment_counts))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 3
   state_name     investment_counts total_investment_dollars
   &lt;chr&gt;                      &lt;dbl&gt;                    &lt;dbl&gt;
 1 North Carolina             87718              19625458505
 2 Michigan                   85854              11861916179
 3 Missouri                   83355              13379011326
 4 Tennessee                  83354              13819292794
 5 Texas                      78299              15995187413
 6 Indiana                    76055              10344087246
 7 Louisiana                  70335              13359196375
 8 Ohio                       65364               9817010415
 9 Pennsylvania               63630              10431877304
10 Florida                    62335              13333056773
# ℹ 42 more rows</code></pre>
</div>
</div>
</section>
<section id="task-5" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="task-5"><span class="header-section-number">6.9</span> Task 5</h2>
<p><strong>Question:</strong> What is the total overall invested dollars for the State of California in Fiscal Years 2012-2015?</p>
<p>Use the R chunk below to generate the required insight. Note: You will not get credit unless you write an R code that prints this insight below</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>task1_data <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state_name <span class="sc">==</span> <span class="st">"California"</span> <span class="sc">&amp;</span> fiscal_year <span class="sc">&gt;=</span> <span class="dv">2012</span> <span class="sc">&amp;</span> fiscal_year <span class="sc">&lt;=</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">invested_california =</span> <span class="fu">sum</span>(total_investment_dollars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  invested_california
                &lt;dbl&gt;
1          4256481326</code></pre>
</div>
</div>
<p><strong>Your answer or response for the Task 5 question (in words) below:</strong></p>
<p>The total overall invested dollars for the State of California in Fiscal Years 2012-2015 is $4,256,481,326</p>
</section>
<section id="task-6" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="task-6"><span class="header-section-number">6.10</span> Task 6</h2>
<p>Within the following R chunk, read the cancer_mortality.xlsx data into your R environment and use head() to print the data you made. Name this data however you want but make sure it follows the best practice for naming variables in R (see previous lecture slides on assignment operators and naming conventions):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>task6_data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"data/cancer_mortality.xlsx"</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task6_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  County                  CountyFIPS RuralUrbanStatus DeathRate
  &lt;chr&gt;                        &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;
1 Autauga County, Alabama       1001 Urban                 152.
2 Baldwin County, Alabama       1003 Urban                 146.
3 Barbour County, Alabama       1005 Rural                 181.
4 Bibb County, Alabama          1007 Urban                 170.
5 Blount County, Alabama        1009 Urban                 170.
6 Bullock County, Alabama       1011 Rural                 138.</code></pre>
</div>
</div>
</section>
<section id="background-information-on-task-5-data" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="background-information-on-task-5-data"><span class="header-section-number">6.11</span> <strong>Background information on Task 5 Data</strong></h2>
<p>The cancer_mortality.xlsx file is a subset, and both an abbreviated and manipulated version of data found in <a href="https://statecancerprofiles.cancer.gov/map/map.withimage.php" class="uri">https://statecancerprofiles.cancer.gov/map/map.withimage.php</a></p>
<p>Basic information about the variables you loaded is as follows:</p>
<p><strong>County</strong> contains the county name along with its state name</p>
<p><strong>CountyFIPS</strong> containsthe county FIPS/GEOID code for the county</p>
<p><strong>RuralUrbanStatus</strong> identifies the rural or urban status of the county</p>
<p><strong>DeathRate</strong> is the overall death (mortality) rate for all cancers types within that county (deaths per 100,000 population)</p>
</section>
<section id="task-6-1" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="task-6-1"><span class="header-section-number">6.12</span> Task 6</h2>
<p>Using data you generated in Task 5, create a data subset where the county status is rural only. Make sure the data is sorted with the overall death rate in descending order (highest to lowest). Afterwards, create or write an rds file and name it <strong>RuralDeathRates.rds</strong> below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>rural_data <span class="ot">&lt;-</span> task6_data <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(RuralUrbanStatus <span class="sc">==</span> <span class="st">"Rural"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(DeathRate))</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rural_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  County                        CountyFIPS RuralUrbanStatus DeathRate
  &lt;chr&gt;                              &lt;dbl&gt; &lt;chr&gt;                &lt;dbl&gt;
1 Union County, Florida              12125 Rural                 388.
2 Kingman County, Kansas             20095 Rural                 378.
3 Thurston County, Nebraska          31173 Rural                 304.
4 Galax City, Virginia               51640 Rural                 286.
5 Todd County, South Dakota          46121 Rural                 286.
6 Issaquena County, Mississippi      28055 Rural                 275.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(rural_data, <span class="st">"RuralDeathRates.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Note:</strong> You will need to submit a copy of your <strong>RuralDeathRates.rds</strong> file along with other Homework 5 deliverable you are required to turn in.</p>
</section>
<section id="task-7" class="level2" data-number="6.13">
<h2 data-number="6.13" class="anchored" data-anchor-id="task-7"><span class="header-section-number">6.13</span> Task 7</h2>
<p>Within the following R chunk, read the flights.rds data into your R environment and use head() or glimpse() to print the data you made. Name this data however you want but make sure it follows the best practice for naming variables in R (see previous lecture slides on assignment operators and naming conventions):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>task7_data <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"data/flights.rds"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task7_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1    10     1649           1655        -6     1958           2029
2  2013     5    16     1257           1305        -8     1436           1455
3  2013    11    11     1821           1825        -4     2108           2149
4  2013     4    24      918            925        -7     1238           1235
5  2013    11    20     1724           1729        -5     1923           1941
6  2013     9    11      814            815        -1     1041           1105
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
</section>
<section id="background-information-on-task-7-data" class="level2" data-number="6.14">
<h2 data-number="6.14" class="anchored" data-anchor-id="background-information-on-task-7-data"><span class="header-section-number">6.14</span> <strong>Background information on Task 7 Data</strong></h2>
<p>The data from Task 7 is a smaller subset of the <strong>flights</strong> data we previously worked with in lecture.</p>
<p>Please consult this documentation for more information about the variables included:</p>
<p><a href="https://nycflights13.tidyverse.org/reference/flights.html" class="uri">https://nycflights13.tidyverse.org/reference/flights.html</a></p>
</section>
<section id="task-8" class="level2" data-number="6.15">
<h2 data-number="6.15" class="anchored" data-anchor-id="task-8"><span class="header-section-number">6.15</span> <strong>Task 8</strong></h2>
<p>Using data you generated in Task 7, create a data subset into your R environment where <strong>origin</strong> is not EWR and <strong>dest</strong> is one of the following: BWI, DCA, IAD. Then write a csv file and name it <strong>NYCDMVFlight.csv</strong> using the following R chunk:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your solution below:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>task8_data <span class="ot">&lt;-</span> task7_data <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(origin <span class="sc">!=</span> <span class="st">"EWR"</span> <span class="sc">&amp;</span> dest <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'BWI'</span>, <span class="st">'DCA'</span>, <span class="st">'IAD'</span>))</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternatively:</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co"># task8_data &lt;- task7_data |&gt;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  filter(origin != "EWR") |&gt;</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  filter(dest %in% c('BWI', 'DCA', 'IAD'))</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task8_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1    20     1552           1600        -8     1707           1717
2  2013     9    28     1051            959        52     1148           1115
3  2013    12    28     1949           1945         4     2049           2118
4  2013     8    18     1851           1900        -9     2004           2030
5  2013     6    27       NA           2100        NA       NA           2212
6  2013     3    14     1453           1500        -7     1556           1619
# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(task8_data, <span class="st">"NYCDMVFlight.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Note:</strong> You will need to submit a copy of your <strong>NYCDMVFlight.csv</strong> file along with other Homework 5 deliverable you are required to turn in.</p>
</section>
<section id="task-9" class="level2" data-number="6.16">
<h2 data-number="6.16" class="anchored" data-anchor-id="task-9"><span class="header-section-number">6.16</span> <strong>Task 9</strong></h2>
<p>Once you complete Tasks 1-8, render an HTML file from this Quarto file. Please consult the lecture 2 slides as needed on how to render an HTML file from your Quarto document.</p>
</section>
<section id="final-comment" class="level2" data-number="6.17">
<h2 data-number="6.17" class="anchored" data-anchor-id="final-comment"><span class="header-section-number">6.17</span> <strong>Final Comment</strong></h2>
<p>Under Homework 5 in Canvas, please submit both your finalized .qmd, rendered HTML file, and data files you were asked to generate above.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./SolutionHomework4.html" class="pagination-link" aria-label="Homework 4: dplyr">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Homework 4: dplyr</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./SolutionHomework6.html" class="pagination-link" aria-label="Homework 6: Data Reshaping">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Homework 6: Data Reshaping</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>