<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statistical Programming in R (Fall 2025) - 9&nbsp; Homework 8: Text Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./SolutionHomework9.html" rel="next">
<link href="./SolutionHomework7.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./SolutionHomework2.html">Homework Solutions</a></li><li class="breadcrumb-item"><a href="./SolutionHomework8.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Homework 8: Text Data</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Statistical Programming in R (Fall 2025)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Disclaimer</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Lecture (under construction)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preliminaries</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Lab Exercises (under construction)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Homework Solutions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Homework 2: ggplot2 and Quarto practice</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Homework 3: dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Homework 4: dplyr</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Homework 5: File Reading</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Homework 6: Data Reshaping</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Homework 7: Joins</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework8.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Homework 8: Text Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SolutionHomework9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Homework 9: Factors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#purpose" id="toc-purpose" class="nav-link active" data-scroll-target="#purpose"><span class="header-section-number">9.1</span> Purpose</a></li>
  <li><a href="#resources-to-consult" id="toc-resources-to-consult" class="nav-link" data-scroll-target="#resources-to-consult"><span class="header-section-number">9.2</span> Resources to consult</a></li>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link" data-scroll-target="#preliminaries"><span class="header-section-number">9.3</span> Preliminaries</a></li>
  <li><a href="#task-1-1-pt" id="toc-task-1-1-pt" class="nav-link" data-scroll-target="#task-1-1-pt"><span class="header-section-number">9.4</span> Task 1 (1 pt)</a></li>
  <li><a href="#task-2-1-pt" id="toc-task-2-1-pt" class="nav-link" data-scroll-target="#task-2-1-pt"><span class="header-section-number">9.5</span> Task 2 (1 pt)</a></li>
  <li><a href="#task-3-0.5-pt" id="toc-task-3-0.5-pt" class="nav-link" data-scroll-target="#task-3-0.5-pt"><span class="header-section-number">9.6</span> Task 3 (0.5 pt)</a></li>
  <li><a href="#task-4-1-pt" id="toc-task-4-1-pt" class="nav-link" data-scroll-target="#task-4-1-pt"><span class="header-section-number">9.7</span> Task 4 (1 pt)</a></li>
  <li><a href="#task-5-0.5-pt" id="toc-task-5-0.5-pt" class="nav-link" data-scroll-target="#task-5-0.5-pt"><span class="header-section-number">9.8</span> Task 5 (0.5 pt)</a></li>
  <li><a href="#task-6-0.5-pt" id="toc-task-6-0.5-pt" class="nav-link" data-scroll-target="#task-6-0.5-pt"><span class="header-section-number">9.9</span> Task 6 (0.5 pt)</a></li>
  <li><a href="#task-7-1-pt" id="toc-task-7-1-pt" class="nav-link" data-scroll-target="#task-7-1-pt"><span class="header-section-number">9.10</span> Task 7 (1 pt)</a></li>
  <li><a href="#task-8-1-pt" id="toc-task-8-1-pt" class="nav-link" data-scroll-target="#task-8-1-pt"><span class="header-section-number">9.11</span> Task 8 (1 pt)</a></li>
  <li><a href="#task-9-1-pt" id="toc-task-9-1-pt" class="nav-link" data-scroll-target="#task-9-1-pt"><span class="header-section-number">9.12</span> Task 9 (1 pt)</a></li>
  <li><a href="#task-10-data" id="toc-task-10-data" class="nav-link" data-scroll-target="#task-10-data"><span class="header-section-number">9.13</span> Task 10 Data</a></li>
  <li><a href="#task-10-1-pt" id="toc-task-10-1-pt" class="nav-link" data-scroll-target="#task-10-1-pt"><span class="header-section-number">9.14</span> Task 10 (1 pt)</a></li>
  <li><a href="#task-11-1-pt" id="toc-task-11-1-pt" class="nav-link" data-scroll-target="#task-11-1-pt"><span class="header-section-number">9.15</span> Task 11 (1 pt)</a></li>
  <li><a href="#task-12-0.5-pt" id="toc-task-12-0.5-pt" class="nav-link" data-scroll-target="#task-12-0.5-pt"><span class="header-section-number">9.16</span> Task 12 (0.5 pt)</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./SolutionHomework2.html">Homework Solutions</a></li><li class="breadcrumb-item"><a href="./SolutionHomework8.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Homework 8: Text Data</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Homework 8: Text Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="purpose" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="purpose"><span class="header-section-number">9.1</span> Purpose</h2>
<p>The purpose of this homework is to give you several opportunities to practice functions and tools taught in Lecture 8 using R. Once completed, submit both your quarto document (.qmd) and the rendered HTML file.</p>
<p>Failure to submit a properly rendered HTML file will result in a grade of 0 for this homework.</p>
</section>
<section id="resources-to-consult" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="resources-to-consult"><span class="header-section-number">9.2</span> Resources to consult</h2>
<ol type="1">
<li>Lecture Materials
<ol type="1">
<li>Presentation Version: <a href="https://jmtfeliciano.github.io/DATA412Fall2024/Data412612Lecture8" class="uri">https://jmtfeliciano.github.io/DATA412Fall2024/Data412612Lecture8</a></li>
<li>Unpolished long (searchable) version: <a href="https://jmtfeliciano.github.io/DATA412Fall2024/Data412612Lecture8LongDraft.html" class="uri">https://jmtfeliciano.github.io/DATA412Fall2024/Data412612Lecture8LongDraft.html</a></li>
</ol></li>
<li>In Class Exercise Materials: <a href="https://jmtfeliciano.github.io/DATA412Fall2024/Exercise8FilledIn.html" class="uri">https://jmtfeliciano.github.io/DATA412Fall2024/Exercise8FilledIn.html</a></li>
</ol>
<p><strong>Note:</strong> You may need to copy and paste the links above into your web browser.</p>
</section>
<section id="preliminaries" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="preliminaries"><span class="header-section-number">9.3</span> Preliminaries</h2>
<p>Load the following script to load the tidyverse package</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</section>
<section id="task-1-1-pt" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="task-1-1-pt"><span class="header-section-number">9.4</span> Task 1 (1 pt)</h2>
<p>Using the R chunk below, load the following seven files you were asked to download (under Homework 8 in Canvas) into your R env’t. Name them appropriately based on best practices.</p>
<p>(1) HW8BusinessPrograms.csv</p>
<p>(2) HW8CommunityFacilities.csv</p>
<p>(3) HW8ElectricPrograms.csv</p>
<p>(4) HW8MultifamilyHousing.csv</p>
<p>(5) HW8SingleFamilyHousing.csv</p>
<p>(6) HW8TelecommunicationsPrograms.csv</p>
<p>(7) HW8WaterandEnvironmental.csv</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>business_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8BusinessPrograms.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 675 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cf_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8CommunityFacilities.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 664 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>electric_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8ElectricPrograms.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 401 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>mfh_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8MultifamilyHousing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 663 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sfh_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8SingleFamilyHousing.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 663 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>telecom_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8TelecommunicationsPrograms.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 462 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>water_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/HW8WaterandEnvironmental.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 641 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (2): state_name, program_area
dbl (4): fiscal_year, total_investment_dollars, number_investments, svi_inve...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="task-2-1-pt" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="task-2-1-pt"><span class="header-section-number">9.5</span> Task 2 (1 pt)</h2>
<p>Using the R chunk below, bind the seven tables you created in Task 1 into a single table (data frame) in your R environment. Make sure to print a sample of the data below too.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>task2_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(business_data, cf_data, electric_data, mfh_data, sfh_data, telecom_data, water_data)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task2_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  fiscal_year state_name program_area  total_investment_dol…¹ number_investments
        &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;                          &lt;dbl&gt;              &lt;dbl&gt;
1        2012 Alabama    Business Pro…               16027910                 24
2        2012 Alaska     Business Pro…               13622360                 20
3        2012 Arizona    Business Pro…                6870209                 25
4        2012 Arkansas   Business Pro…               16434779                 39
5        2012 California Business Pro…               95962441                120
6        2012 Colorado   Business Pro…               16127375                 35
# ℹ abbreviated name: ¹​total_investment_dollars
# ℹ 1 more variable: svi_investments &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="task-3-0.5-pt" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="task-3-0.5-pt"><span class="header-section-number">9.6</span> Task 3 (0.5 pt)</h2>
<p>Using the R chunk below and the data you created in Task 2, print the number of data rows within the data set for each program area:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>task2_data <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(program_area) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">num_rows =</span> <span class="fu">n</span>()) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  program_area                num_rows
  &lt;chr&gt;                          &lt;int&gt;
1 Business Programs                675
2 Community Facilities             664
3 Electric Programs                401
4 Multifamily Housing              663
5 Single Family Housing            663
6 Telecommunications Programs      462
7 Water and Environmental          641</code></pre>
</div>
</div>
</section>
<section id="task-4-1-pt" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="task-4-1-pt"><span class="header-section-number">9.7</span> Task 4 (1 pt)</h2>
<p>Using <code>case_when()</code> and the data you created in Task 2, create a new column or variable called rural_agency using the R chunk below. Save the resulting table (data frame) into your R environment (name it however you want but make sure it follows best practice). Make sure to print a sample of the data below too.</p>
<p>For your <code>case_when()</code>: rural_agency should be equals to “Rural Housing Service” if program area is either single or multifamily housing. rural_agency should be equals to “Rural Utilities Service” if program area is water and environmental, telecommunications, or electric. rural_agency should be equals to “Rural Business-Cooperative Service” if program area is Business programs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>task4_data <span class="ot">&lt;-</span> task2_data <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rural_agency =</span> <span class="fu">case_when</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Single Family Housing'</span> <span class="sc">~</span> <span class="st">'Rural Housing Service'</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Multifamily Housing'</span> <span class="sc">~</span> <span class="st">'Rural Housing Service'</span>, </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Water and Environmental'</span> <span class="sc">~</span> <span class="st">'Rural Utilities Service'</span>,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Telecommunications Programs'</span> <span class="sc">~</span> <span class="st">'Rural Utilities Service'</span>, </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Electric Programs'</span> <span class="sc">~</span> <span class="st">'Rural Utilities Service'</span>,</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    program_area <span class="sc">==</span> <span class="st">'Business Programs'</span> <span class="sc">~</span> <span class="st">'Rural Business-Cooperative Service'</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="task-5-0.5-pt" class="level2" data-number="9.8">
<h2 data-number="9.8" class="anchored" data-anchor-id="task-5-0.5-pt"><span class="header-section-number">9.8</span> Task 5 (0.5 pt)</h2>
<p>The code below creates two tables (employees_2023, employees_2024) in your R environment.</p>
<p>Make sure you run the code below before moving forward. Read the two tables accordingly as well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>employees_2023 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">EmployeeID =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>),</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Department =</span> <span class="fu">c</span>(<span class="st">"HR"</span>, <span class="st">"IT"</span>, <span class="st">"Finance"</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Salary =</span> <span class="fu">c</span>(<span class="dv">50000</span>, <span class="dv">60000</span>, <span class="dv">55000</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>employees_2024 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">EmployeeID =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Name =</span> <span class="fu">c</span>(<span class="st">"Diana"</span>, <span class="st">"Eve"</span>),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">Department =</span> <span class="fu">c</span>(<span class="st">"HR"</span>, <span class="st">"IT"</span>),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">Salary =</span> <span class="fu">c</span>(<span class="dv">52000</span>, <span class="dv">61000</span>)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(employees_2023)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3
Columns: 4
$ EmployeeID &lt;dbl&gt; 1, 2, 3
$ Name       &lt;chr&gt; "Alice", "Bob", "Charlie"
$ Department &lt;chr&gt; "HR", "IT", "Finance"
$ Salary     &lt;dbl&gt; 50000, 60000, 55000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(employees_2024)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2
Columns: 4
$ EmployeeID &lt;dbl&gt; 4, 5
$ Name       &lt;chr&gt; "Diana", "Eve"
$ Department &lt;chr&gt; "HR", "IT"
$ Salary     &lt;dbl&gt; 52000, 61000</code></pre>
</div>
</div>
<p>Each table (data frame) has the columns: <code>EmployeeID</code>, <code>Name</code>, <code>Department</code>, and <code>Salary</code>.</p>
<ul>
<li><p><code>employees_2023</code> contains data for employees in 2023.</p></li>
<li><p><code>employees_2024</code> contains data for new hires in 2024.</p></li>
</ul>
<p>Using the code chunk below, bind the two data frames together to create a table that is essentially a master list of all employees across both years. Save this data into your R environment and name it appropriately based on best practices. Make sure to print the data below too.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>task5_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(employees_2023, employees_2024)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task5_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  EmployeeID    Name Department Salary
1          1   Alice         HR  50000
2          2     Bob         IT  60000
3          3 Charlie    Finance  55000
4          4   Diana         HR  52000
5          5     Eve         IT  61000</code></pre>
</div>
</div>
</section>
<section id="task-6-0.5-pt" class="level2" data-number="9.9">
<h2 data-number="9.9" class="anchored" data-anchor-id="task-6-0.5-pt"><span class="header-section-number">9.9</span> Task 6 (0.5 pt)</h2>
<p>The code below creates two tables (group_a, group_b) in your R environment.</p>
<p>Make sure you run the code below before moving forward. Read the two tables accordingly as well.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>group_a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ParticipantID =</span> <span class="fu">c</span>(<span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"A3"</span>),</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>),</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Score =</span> <span class="fu">c</span>(<span class="dv">88</span>, <span class="dv">92</span>, <span class="dv">85</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>group_b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ParticipantID =</span> <span class="fu">c</span>(<span class="st">"B1"</span>, <span class="st">"B2"</span>, <span class="st">"B3"</span>),</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">Age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">40</span>),</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">Score =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">89</span>, <span class="dv">95</span>)</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>group_a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ParticipantID Age Score
1            A1  25    88
2            A2  30    92
3            A3  35    85</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>group_b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ParticipantID Age Score
1            B1  25    90
2            B2  30    89
3            B3  40    95</code></pre>
</div>
</div>
<p>You are conducting a study and have collected data from two groups of participants, <code>group_a</code> and <code>group_b</code>, on their age and test scores. Each data frame has columns: <code>ParticipantID</code>, <code>Age</code>, and <code>Score</code>.</p>
<ul>
<li><p><code>group_a</code> is a table (data frame) that contains data for participants in Group A.</p></li>
<li><p><code>group_b</code> is a table (data frame) that contains data for participants in Group B.</p></li>
</ul>
<p>Bind the two tables (data frames) to create a single data set of all participants using the R chunk below. Save this data into your R environment and name it appropriately based on best practices. Make sure to print the data below too.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>task6_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(group_a, group_b)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(task6_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  ParticipantID Age Score
1            A1  25    88
2            A2  30    92
3            A3  35    85
4            B1  25    90
5            B2  30    89
6            B3  40    95</code></pre>
</div>
</div>
</section>
<section id="task-7-1-pt" class="level2" data-number="9.10">
<h2 data-number="9.10" class="anchored" data-anchor-id="task-7-1-pt"><span class="header-section-number">9.10</span> Task 7 (1 pt)</h2>
<p>The code blow creates a table (data frame) called address_df. Run the code below before proceeding forward and make sure to pay attention to the printed data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>address_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">street =</span> <span class="fu">c</span>(<span class="st">"123 Main St"</span>, <span class="st">"456 Oak Ave"</span>, <span class="st">"789 Pine Rd"</span>),</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">city =</span> <span class="fu">c</span>(<span class="st">"Springfield"</span>, <span class="st">"Riverdale"</span>, <span class="st">"Greendale"</span>),</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">state =</span> <span class="fu">c</span>(<span class="st">"IL"</span>, <span class="st">"NY"</span>, <span class="st">"CA"</span>))</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>address_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       street        city state
1 123 Main St Springfield    IL
2 456 Oak Ave   Riverdale    NY
3 789 Pine Rd   Greendale    CA</code></pre>
</div>
</div>
<p>Use <code>str_c()</code> within the R chunk below to combine the three variables from address_df into a full address, formatted as “Street, City, State.” Name this new variable/column <code>full_address</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>address_df <span class="sc">|&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">full_address =</span> <span class="fu">str_c</span>(street, city, state, <span class="at">sep =</span> <span class="st">", "</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       street        city state                 full_address
1 123 Main St Springfield    IL 123 Main St, Springfield, IL
2 456 Oak Ave   Riverdale    NY   456 Oak Ave, Riverdale, NY
3 789 Pine Rd   Greendale    CA   789 Pine Rd, Greendale, CA</code></pre>
</div>
</div>
</section>
<section id="task-8-1-pt" class="level2" data-number="9.11">
<h2 data-number="9.11" class="anchored" data-anchor-id="task-8-1-pt"><span class="header-section-number">9.11</span> Task 8 (1 pt)</h2>
<p>The code blow creates a table (data frame) called pricing_table. Run the code below before proceeding forward and make sure to pay attention to the printed data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pricing_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">product =</span> <span class="fu">c</span>(<span class="st">"Apples"</span>, <span class="st">"Bananas"</span>, <span class="st">"Cherries"</span>),</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">prices =</span> <span class="fu">c</span>(<span class="st">"1.20"</span>, <span class="st">"0.80"</span>, <span class="st">"2.50"</span>))</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>pricing_table </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   product prices
1   Apples   1.20
2  Bananas   0.80
3 Cherries   2.50</code></pre>
</div>
</div>
<p>Use <code>str_c()</code> to create a variable called <strong>pricing_sentence</strong> using R chunk below. str_c() should produce a single sentence for each item, formatted as “ItemName costs $Price.” For example, the pricing_sentence value for the first row should state “Apples costs $1.20”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>pricing_table <span class="sc">|&gt;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pricing_sentence =</span> <span class="fu">str_c</span>(product, <span class="st">" costs $"</span>, prices))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   product prices     pricing_sentence
1   Apples   1.20   Apples costs $1.20
2  Bananas   0.80  Bananas costs $0.80
3 Cherries   2.50 Cherries costs $2.50</code></pre>
</div>
</div>
</section>
<section id="task-9-1-pt" class="level2" data-number="9.12">
<h2 data-number="9.12" class="anchored" data-anchor-id="task-9-1-pt"><span class="header-section-number">9.12</span> Task 9 (1 pt)</h2>
<p>Using pricing_table (data from task 8), use <code>str_glue()</code> to create a variable called <strong>pricing_sentence_v2</strong> using R chunk below. <code>str_glue()</code> should also produce a single sentence for each item, formatted as “ItemName costs $Price before taxes.” For example, the pricing_sentence_v2 value for the first row should state “Apples costs $1.20 before taxes”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>pricing_table <span class="sc">|&gt;</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pricing_sentence =</span> <span class="fu">str_glue</span>(<span class="st">"{product} costs ${prices} before taxes"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   product prices                  pricing_sentence
1   Apples   1.20   Apples costs $1.20 before taxes
2  Bananas   0.80  Bananas costs $0.80 before taxes
3 Cherries   2.50 Cherries costs $2.50 before taxes</code></pre>
</div>
</div>
</section>
<section id="task-10-data" class="level2" data-number="9.13">
<h2 data-number="9.13" class="anchored" data-anchor-id="task-10-data"><span class="header-section-number">9.13</span> Task 10 Data</h2>
<p>This data we are loading are news headlines scrapped from ABC7 News Network in New York City between July 18, 2017 and January 16, 2018. Make sure to run the script below before proceeding:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>news_headlines <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/jmtfeliciano/teachingdata/refs/heads/main/abc7ny.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 9745 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (6): datetime, headline, url, teaser, feed_name, feed_url

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(news_headlines)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  datetime                 headline              url   teaser feed_name feed_url
  &lt;chr&gt;                    &lt;chr&gt;                 &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   
1 July 18, 2017 at 03:41PM 9-year-old boy wants… http… Tyler… abc7ny.c… http://…
2 July 18, 2017 at 03:55PM 10-year-old boy crit… http… The C… abc7ny.c… http://…
3 July 18, 2017 at 04:02PM 10-year-old boy crit… http… A 10-… abc7ny.c… http://…
4 July 18, 2017 at 04:38PM American Airlines me… http… Al Bl… abc7ny.c… http://…
5 July 18, 2017 at 04:40PM 12-year-old girl pul… http… Daphn… abc7ny.c… http://…
6 July 18, 2017 at 04:51PM Exclusive: Daughter … http… In an… abc7ny.c… http://…</code></pre>
</div>
</div>
</section>
<section id="task-10-1-pt" class="level2" data-number="9.14">
<h2 data-number="9.14" class="anchored" data-anchor-id="task-10-1-pt"><span class="header-section-number">9.14</span> Task 10 (1 pt)</h2>
<p>Using news_headlines and the R chunk below, create a topic indicator variable to detect any crime-related topic or word of your choosing. Then only print a sample of your data that contains the key word of your choosing. Make sure you detect at least one matching row with your keyword (otherwise, pick another keyword).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>news_headlines_v2 <span class="ot">&lt;-</span> news_headlines <span class="sc">|&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">robbery_mentioned =</span> <span class="fu">str_detect</span>(headline, <span class="fu">regex</span>(<span class="st">"robbery"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))) </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>news_headlines_v2 <span class="sc">|&gt;</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(robbery_mentioned) <span class="sc">|&gt;</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(headline)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53 × 7
   headline           datetime url   teaser feed_name feed_url robbery_mentioned
   &lt;chr&gt;              &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;    &lt;lgl&gt;            
 1 OJ Simpson has go… July 18… http… O.J. … abc7ny.c… http://… TRUE             
 2 Video: Suspects i… July 19… http… Distu… abc7ny.c… http://… TRUE             
 3 Man fatally stabb… July 20… http… The 3… abc7ny.c… http://… TRUE             
 4 Police arrest 4th… July 21… http… Polic… abc7ny.c… http://… TRUE             
 5 3 charged in assa… July 25… http… Polic… abc7ny.c… http://… TRUE             
 6 Search on for man… July 29… http… Accor… abc7ny.c… http://… TRUE             
 7 Shootout erupts a… August … http… Polic… abc7ny.c… http://… TRUE             
 8 Pennsylvania stat… August … http… Penns… abc7ny.c… http://… TRUE             
 9 Man shot while si… August … http… The 3… abc7ny.c… http://… TRUE             
10 Police fatally sh… August … http… Polic… abc7ny.c… http://… TRUE             
# ℹ 43 more rows</code></pre>
</div>
</div>
</section>
<section id="task-11-1-pt" class="level2" data-number="9.15">
<h2 data-number="9.15" class="anchored" data-anchor-id="task-11-1-pt"><span class="header-section-number">9.15</span> Task 11 (1 pt)</h2>
<p>Before proceeding, make sure to run the following script and read the printed data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>employees <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Tom"</span>, <span class="st">"Jerry"</span>, <span class="st">"Anna"</span>, <span class="st">"Laura"</span>, <span class="st">"Nick"</span>),</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">years_experience =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">2</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>employees</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name years_experience
1   Tom                1
2 Jerry                3
3  Anna                7
4 Laura                5
5  Nick                2</code></pre>
</div>
</div>
<p>employees is a table (data frame) with information about employees’ years of experience. Use <code>case_when()</code> in the R chunk below to create a new column <code>experience_level</code> that classifies each employee according to this breakdown:</p>
<ul>
<li><p>Less than 2 years: <code>"Junior"</code></p></li>
<li><p>2 to 5 years: <code>"Mid-level"</code></p></li>
<li><p>More than 5 years: <code>"Senior"</code></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>employees <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">experience_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    years_experience <span class="sc">&lt;</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">"Junior"</span>,</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">between</span>(years_experience, <span class="dv">2</span>, <span class="dv">5</span>) <span class="sc">~</span> <span class="st">"Mid-level"</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    years_experience <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"Senior"</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   name years_experience experience_level
1   Tom                1           Junior
2 Jerry                3        Mid-level
3  Anna                7           Senior
4 Laura                5        Mid-level
5  Nick                2        Mid-level</code></pre>
</div>
</div>
</section>
<section id="task-12-0.5-pt" class="level2" data-number="9.16">
<h2 data-number="9.16" class="anchored" data-anchor-id="task-12-0.5-pt"><span class="header-section-number">9.16</span> Task 12 (0.5 pt)</h2>
<p>Before proceeding, make sure to run the following script and read the printed data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>movie_years <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">movie =</span> <span class="fu">c</span>(<span class="st">"Inception"</span>, <span class="st">"The Matrix"</span>, <span class="st">"Titanic"</span>),</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">release_year =</span> <span class="fu">c</span>(<span class="st">"2010"</span>, <span class="st">"1999"</span>, <span class="st">"1997"</span>))</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>movie_years</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       movie release_year
1  Inception         2010
2 The Matrix         1999
3    Titanic         1997</code></pre>
</div>
</div>
<p>Using <code>str_c()</code> or <code>str_glue()</code> within the R chunk below with the movie_years table (data frame), create a variable/column called movie_year where each entry includes the movie title then the release year in parentheses (e.g., “Inception (2010)”).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Place your script below:</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>movie_years <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">movie_year =</span> <span class="fu">str_glue</span>(<span class="st">"{movie} ({release_year})"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       movie release_year        movie_year
1  Inception         2010  Inception (2010)
2 The Matrix         1999 The Matrix (1999)
3    Titanic         1997    Titanic (1997)</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./SolutionHomework7.html" class="pagination-link" aria-label="Homework 7: Joins">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Homework 7: Joins</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./SolutionHomework9.html" class="pagination-link" aria-label="Homework 9: Factors">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Homework 9: Factors</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>